<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_35) on Thu Nov 22 16:28:09 CET 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
CypherQueries (s2g 0.1.0-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2012-11-22">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CypherQueries (s2g 0.1.0-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CypherQueries.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../de/tub/graph/NodeProperties.html" title="class in de.tub.graph"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?de/tub/graph/CypherQueries.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CypherQueries.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
de.tub.graph</FONT>
<BR>
Class CypherQueries</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>de.tub.graph.CypherQueries</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>CypherQueries</B><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
This class provides methods to execute Cypher queries on
 the Neo4j graph database.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Sebastian Oelke</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../de/tub/graph/CypherQueries.html#CypherQueries()">CypherQueries</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.neo4j.cypher.javacompat.ExecutionResult</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../de/tub/graph/CypherQueries.html#allHgClusterIdsForUsersFromToLevel(java.lang.Long[], int, int)">allHgClusterIdsForUsersFromToLevel</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>[]&nbsp;userNodeIds,
                                   int&nbsp;fromLevel,
                                   int&nbsp;toLevel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method queries the graph database with a cypher query
 to receive all hg cluster ids of the given user nodes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.neo4j.cypher.javacompat.ExecutionResult</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../de/tub/graph/CypherQueries.html#allUsers()">allUsers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method queries the graph database with a cypher query
 to receive all user nodes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.neo4j.cypher.javacompat.ExecutionResult</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../de/tub/graph/CypherQueries.html#countUsers()">countUsers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method queries the graph database with a cypher query
 to receive the overall number of users.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.neo4j.cypher.javacompat.ExecutionResult</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../de/tub/graph/CypherQueries.html#countUsersInHgCluster(java.lang.String)">countUsersInHgCluster</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;hgClusterId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method queries the graph database with a cypher query
 to receive the number of users that visited a specific hg 
 cluster.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.neo4j.cypher.javacompat.ExecutionResult</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../de/tub/graph/CypherQueries.html#countUserStaypoints(long)">countUserStaypoints</A></B>(long&nbsp;userNodeId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method queries the graph database with a cypher query
 to receive the number of stay points for a given user node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;org.neo4j.cypher.javacompat.ExecutionResult</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../de/tub/graph/CypherQueries.html#hgClustersInStaypointOrderForUser(java.lang.Long, java.lang.String[])">hgClustersInStaypointOrderForUser</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&nbsp;userNodeId,
                                  <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]&nbsp;hgClusterIds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method queries the graph database with a cypher query
 to receive the hg clusters of the given user node ordered by
 the leaving time of the connected stay points.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CypherQueries()"><!-- --></A><H3>
CypherQueries</H3>
<PRE>
public <B>CypherQueries</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="allHgClusterIdsForUsersFromToLevel(java.lang.Long[], int, int)"><!-- --></A><H3>
allHgClusterIdsForUsersFromToLevel</H3>
<PRE>
public static org.neo4j.cypher.javacompat.ExecutionResult <B>allHgClusterIdsForUsersFromToLevel</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>[]&nbsp;userNodeIds,
                                                                                             int&nbsp;fromLevel,
                                                                                             int&nbsp;toLevel)
                                                                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</A>,
                                                                                             <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></PRE>
<DL>
<DD>This method queries the graph database with a cypher query
 to receive all hg cluster ids of the given user nodes. 
 The depth of the resulting hg clusters
 can be tweaked by the parameters <code>fromLevel</code> and
 <code>toLevel</code>. Negative values for the parameters result
 in querying all depths. A <code>fromLevel</code> of zero is also ignored
 to avoid the inclusion of the starting node (i.e., the user node).
 <p />
 The resulting query looks like the following:
 
 <pre>
 START n=node({id})
 MATCH n-[:HasHG|HasHGChildCluster*]->hgc
 RETURN hgc.hg_cluster_id AS hg_cluster_id
 ORDER BY hgc.hg_cluster_id
 </pre>
 
 The result column of the returned <code>ExecutionResult</code>
 is named 'hg_cluster_id' (cf. the generated Cypher query). To access it use this name.
 <p />
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userNodeIds</CODE> - the ids of the starting user nodes. At least one user node id has to be provided.<DD><CODE>fromLevel</CODE> - the starting depth of the query. This has to be greater than zero. Otherwise it is ignored.<DD><CODE>toLevel</CODE> - the end depth of the query. This has to be greater or equal zero. Otherwise it is ignored.
<DT><B>Returns:</B><DD>the result of the cypher query in form of an <code>ExecutionResult</code> which includes all found hg cluster ids.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</A></CODE> - if the array of user node ids is <code>null</code>.
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if the array of starting user nodes is empty.<DT><B>See Also:</B><DD><CODE>ExecutionResult</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="hgClustersInStaypointOrderForUser(java.lang.Long, java.lang.String[])"><!-- --></A><H3>
hgClustersInStaypointOrderForUser</H3>
<PRE>
public static org.neo4j.cypher.javacompat.ExecutionResult <B>hgClustersInStaypointOrderForUser</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</A>&nbsp;userNodeId,
                                                                                            <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]&nbsp;hgClusterIds)
                                                                                     throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></PRE>
<DL>
<DD>This method queries the graph database with a cypher query
 to receive the hg clusters of the given user node ordered by
 the leaving time of the connected stay points. The ids of the
 hg clusters to receive are restricted by the parameter 
 <code>hgClusterIds</code> which has to be non-null and non-empty.
 <p />
 The resulting query looks like the following:
 
 <pre>
 START u=node({userNodeId})
 MATCH u-[:HasHG|HasHGChildCluster*]->hgc-[:HasHGStayPoint]->sp
 WHERE hgc.hg_cluster_id IN [{hgClusterIds}]
 RETURN hgc.hg_cluster_id AS hg_cluster_id, 
        sp.staypoint_arr AS staypoint_arr,
        sp.staypoint_leav AS staypoint_leav
 ORDER BY sp.staypoint_leav
 </pre>

 The result columns of the returned <code>ExecutionResult</code>
 are named 'hg_cluster_id', 'staypoint_arr' and 'staypoint_leav' 
 (cf. the generated Cypher query). To access them use those names.
 <p />
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userNodeId</CODE> - the id of the user node to access its hierarchical graph.<DD><CODE>hgClusterIds</CODE> - the ids of the hg clusters to restrict the result to. This 
 parameter has to be non-null and non-empty.
<DT><B>Returns:</B><DD>the result of the cypher query in form of an <code>ExecutionResult</code> which includes all 
 found hg cluster ids as well as the arrival and leaving time of the corresponding stay points.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</A></CODE> - if the array of hg cluster ids is <code>null</code>.
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if the array of hg cluster ids is empty.</DL>
</DD>
</DL>
<HR>

<A NAME="countUsers()"><!-- --></A><H3>
countUsers</H3>
<PRE>
public static org.neo4j.cypher.javacompat.ExecutionResult <B>countUsers</B>()</PRE>
<DL>
<DD>This method queries the graph database with a cypher query
 to receive the overall number of users.
 The resulting query looks like the following:
 
 <pre>
 START r=node(0) 
 MATCH r-[:RootUser]->u
 RETURN count(u) AS usersCount
 LIMIT 1
 </pre>

 The result column of the returned <code>ExecutionResult</code>
 is named 'usersCount' (cf. the generated Cypher query).
 To access it use this name.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="allUsers()"><!-- --></A><H3>
allUsers</H3>
<PRE>
public static org.neo4j.cypher.javacompat.ExecutionResult <B>allUsers</B>()</PRE>
<DL>
<DD>This method queries the graph database with a cypher query
 to receive all user nodes.
 The resulting query looks like the following:
 
 <pre>
 START u=node:users("user_id: *")
 RETURN u AS users
 ORDER BY u.user_id
 </pre>

 The result column of the returned <code>ExecutionResult</code>
 is named 'users' (cf. the generated Cypher query).
 To access it use this name.
 <p />
 If the index 'users' does not exist a fallback Cypher query is used 
 that traverses the graph beginning from the reference node:
 
 <pre>
 START r=node(0) 
 MATCH r-[:RootUser]->u
 RETURN u AS users
 ORDER BY u.user_id
 </pre>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="countUsersInHgCluster(java.lang.String)"><!-- --></A><H3>
countUsersInHgCluster</H3>
<PRE>
public static org.neo4j.cypher.javacompat.ExecutionResult <B>countUsersInHgCluster</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;hgClusterId)
                                                                         throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></PRE>
<DL>
<DD>This method queries the graph database with a cypher query
 to receive the number of users that visited a specific hg 
 cluster.
 <p />
 The resulting query looks like the following:
 
 <pre>
 START r=node(0)
 MATCH r-[:RootUser]->u-[:HasHG|HasHGChildCluster*]->hgc
 WHERE hgc.hg_cluster_id = "{hgClusterId}"
 RETURN count(distinct u)       AS usersInHgCluster
 LIMIT 1
 </pre>

 The result column of the returned <code>ExecutionResult</code>
 is named 'usersInHgCluster' (cf. the generated Cypher query). 
 To access it use this name.
 <p />
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>hgClusterId</CODE> - the id of the hg cluster to find the number of visiting
 users for. This argument has to be non-null and not empty.
<DT><B>Returns:</B><DD>the result of the cypher query in form of an <code>ExecutionResult</code> which includes 
 the number of distinct users that visited the hg cluster with the given id.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</A></CODE> - if the hg cluster id is <code>null</code>.
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if the hg cluster id is empty.</DL>
</DD>
</DL>
<HR>

<A NAME="countUserStaypoints(long)"><!-- --></A><H3>
countUserStaypoints</H3>
<PRE>
public static org.neo4j.cypher.javacompat.ExecutionResult <B>countUserStaypoints</B>(long&nbsp;userNodeId)</PRE>
<DL>
<DD>This method queries the graph database with a cypher query
 to receive the number of stay points for a given user node.
 <p />
 The resulting query looks like the following:
 
 <pre>
 START u=node({id})
 MATCH u-[:HasHG|HasHGChildCluster*]->hgc-[:HasHGStayPoint]->sp
 RETURN count(sp) AS userStayPointsCount
 LIMIT 1
 </pre>
 
 The result column of the returned <code>ExecutionResult</code>
 is named 'userStayPointsCount' (cf. the generated Cypher query). To access it use this name.
 <p />
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userNodeId</CODE> - the id of the starting user node.
<DT><B>Returns:</B><DD>the result of the cypher query in form of an <code>ExecutionResult</code> which includes 
 the number of stay points for the given user node.<DT><B>See Also:</B><DD><CODE>ExecutionResult</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/CypherQueries.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../de/tub/graph/NodeProperties.html" title="class in de.tub.graph"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?de/tub/graph/CypherQueries.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CypherQueries.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2012. All Rights Reserved.
</BODY>
</HTML>
